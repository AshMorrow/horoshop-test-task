### Introduction
Для выполнения тестового задания нужно склонировать себе данный репозиторий и реализовать функционал описанный ниже.
Корректным результатом является прохождение всех тестов `tests/ProductsTest.php`. 
Готовое тестовое можно залить на github (или другой веб-сервис) и скинуть ссылку на репозиторий.

### Task conditions
Реализовать с помощью PHP механизм просчёта цен и скидок: конвертирование исходных данных в результат с просчетом цен и скидок.

Исходные данные находятся в `data.json` (в корне проекта).

В результате должен получиться ответ, с 4 сущностями : Продукт, Категория, Цена, Скидка (смотреть `Result format`)  

* У каждого продукта есть название `title`, цена `price`, категория `category` и уникальный идентификатор `id`.
* У категории: название `title` и уникальный идентификатор `id`.  
* У цены: сумма `amount`, сумма со скидкой `discounted_price` и валюта `currency` (4 типа : UAH, USD, EUR, RUB).
* У скидки: величина скидки `value`, тип `type` (2 типа : абсолютная скидка (-100грн) и относительная (-15%)) 
и к чему она применяется `relation`.
  
Скидка может быть применима как к самому продукту, так и ко всей категории продуктов. 
В случае, если существует скидка на товар и на категорию одновременно — должна выбраться бОльшая из них.  

Реализацию стоит начинать с `src/ProductAggregator.php` файла, который используется в тестах. 
В него попадает имя файла(`data.json`, из корня проекта), который содержит товары, категории, скидки и курсы валют. 
Стоит прочитать этот файл, после чего агрегировать данные и вернуть результат json строкой.

Валюта в которой стоит выгружать должна зависеть от переданного параметра в агрегатор-сервис.
Перевод валют должен происходить после просчета скидки. Сначала считаем цену в UAH(стандартная валюта), 
после чего с помощью курса валют в `data.json` файле переводим UAH -> USD|EUR|RUB. 
Округление цены должно происходить всегда вверх(29.272 = 29.28) и до 2 знака после запятой.

P.S.: для начала работы стоит выполнить команду для инициализации vendor-а и autoload-а зависимостей:
```bash
composer install
```

### Result format
```json
{
  "items" : [
    {
      "id": "unique-product-hash-1",
      "title": "iPhone X",
      "category": {
        "id": "unique-category-hash-1",
        "title": "Apple"
      },
      "price": {
        "amount": 200.0,
        "discounted_price": 183.0,
        "currency": "UAH",
        "discount": {
          "type": "absolute",
          "value": 17,
          "relation": "product"
        }
      }
    },
    {
      "id": "unique-product-hash-2",
      "title": "Samsung Galaxy S10",
      "category": {
        "id": "unique-category-hash-2",
        "title": "Samsung"
      },
      "price": {
        "amount": 100.0,
        "discounted_price": 90.0,
        "currency": "UAH",
        "discount": {
          "type": "percent",
          "value": 10,
          "relation": "category"
        }
      }
    },
    {
      "id": "unique-product-hash-2",
      "title": "Samsung Galaxy A20",
      "category": {
        "id": "unique-category-hash-2",
        "title": "Samsung"
      },
      "price": {
        "amount": 80.0,
        "discounted_price": 72.0,
        "currency": "UAH",
        "discount": {
          "type": "percent",
          "value": 10,
          "relation": "category"
        }
      }
    }
  ],
  "perPage": 20,
  "pages": 10,
  "page" : 1
}
```

### Что мы хотели бы найти в Вашем тестовом
* Чистый, легко читаемый код без использования фреймворков
* Следование принципам ООП, DRY

### Чего мы бы не хотели находить в Вашем тестовом
* серверную web-часть, endpoint-ы: не стоит реализовавывать работу сервиса из браузера или API - тестов достаточно. 
Для процесса разработки/отладки - на Ваше усмотрение, но в конечном варианте тестового задания оно не нужно.

### Tests
Предварительно убедитесь, что у вас установлен PHP и PHPUnit нужной версии.  
Для запуска тестов достаточно ввести консольную команду:
```bash
composer test
```